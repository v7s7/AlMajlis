.qpage { min-height: 100vh; background:#eaf2ff; color:#0f172a; }
.container { max-width: 1440px; margin: 0 auto; padding: 0 20px; }

/* App bar */
.qbar{
  background: linear-gradient(90deg,#9ec5ff 0%, #8fd3ff 100%);
  color:#fff; padding: 10px 0;
  display:grid; grid-template-columns: 1fr auto 1fr; align-items:center;
}
.qbar__left, .qbar__right { display:flex; gap:10px; align-items:center; padding-inline:16px; }
.qbar__left { justify-content:flex-start; }
.qbar__right { justify-content:flex-end; }
.qbar__center {
  font-weight: 900;
  /* matches question page scale */
  font-size: clamp(18px, 2.2vw, 28px);
  text-align: center;
}
.iconbtn {
  background:#ffffff22; color:#fff; border:1px solid #ffffff55;
  border-radius:999px; padding:8px 12px; font-weight:800;
}
.iconbtn:focus-visible { outline:2px solid #fff; outline-offset:2px; }
.turnchip {
  background:#fff; color:#103ea8; /* slightly deeper for contrast */
  border-radius:999px; padding:8px 14px; font-weight:900;
}

/* Timer */
.qtimer {
  margin: 10px auto 6px; display:flex; gap:10px; justify-content:center; align-items:center;
}
.qtimer__time {
  background:#1d4ed8; color:#fff; border-radius:999px;
  padding:10px 28px; font-weight:900; font-size: clamp(18px,2vw,22px);
}
.qtimer__btn {
  width:38px; height:38px; border-radius:999px; background:#1d4ed8; color:#fff; border:0; cursor:pointer;
}
.qtimer__btn:focus-visible { outline:2px solid #1d4ed8; outline-offset:2px; background:#1a44c6; }

/* Stage */
.qstage{
  position:relative; background:#fff; border-radius:28px;
  border:3px solid #1d4ed8; box-shadow:0 12px 36px rgba(0,0,0,.08);
  margin-top:14px; padding: clamp(18px,2vw,26px);
  min-height: calc(100vh - 170px);
  display:flex; flex-direction:column; align-items:center;
  /* default: vertically center when there is NO image */
  justify-content: center;
}

/* When there's an image: lift content a bit (modern browsers) */
.qstage:has(.qimage){ justify-content:flex-start; padding-top: clamp(14px, 2vh, 28px); }

/* Fallback for older browsers: add .has-image via JS when image exists */
.qstage.has-image { justify-content:flex-start; padding-top: clamp(14px, 2vh, 28px); }

/* Question text */
.qtext{
  margin: 6px 8px 18px;
  font-size: clamp(26px, 3.2vw, 42px);
  font-weight: 900;
  line-height: 1.35;
  text-align: center;
  word-break: break-word;
  overflow-wrap: anywhere;
}
.qstage:not(:has(.qimage)) .qtext,
.qstage:not(.has-image) .qtext { margin-block: 0; }

.qstage:has(.qimage) .qtext,
.qstage.has-image .qtext { margin-top: 10px; }

/* Image */
.qimage{
  width: min(980px, 92%);
  max-height: min(52vh, 520px); /* responsive cap so it wonâ€™t overflow */
  object-fit: contain; border-radius: 10px ;background:#fff;
}
.qimage--big { margin-top: 8px; }

/* Score chip */
.pointchip{
  position:absolute; top:-16px; inset-inline-end: 40px;
  background:#1d4ed8; color:#fff; border-radius:12px; padding:8px 14px; font-weight:900; font-size:14px;
  box-shadow: 0 10px 20px rgba(29,78,216,.25);
}

/* Actions */
.qactions { position:absolute; inset-inline-start:16px; bottom:16px; display:flex; gap:10px; }
.ansbtn{
  background:#1d4ed8; color:#fff; border:0; border-radius:12px;
  padding:10px 18px; font-weight:900; font-size: clamp(16px,1.6vw,18px); cursor:pointer;
}
.ansbtn:hover { filter: brightness(0.96); }
.ansbtn:active { transform: translateY(1px); }
.ansbtn:focus-visible { outline:2px solid #1d4ed8; outline-offset:2px; }

.cattag{
  position:absolute; bottom:-18px; left:50%; transform:translateX(-50%);
  background:#1d4ed8; color:#fff; border-radius:999px; padding:8px 16px; font-weight:900;
  box-shadow: 0 6px 16px rgba(29,78,216,.28);
}

/* Small screens */
@media (max-width: 600px){
  .pointchip{ inset-inline-end: 16px; }
  .qbar__center{ font-size: clamp(18px, 3.8vw, 26px); }
  .qtext{ font-size: clamp(22px, 5.2vw, 36px); }
}
/* keep your existing CSS and add/adjust the following small bits */

.iconbtn { cursor: pointer; transition: filter .15s ease; }
.iconbtn:hover { filter: brightness(0.95); }
.iconbtn:active { transform: translateY(1px); }
.iconbtn:focus-visible { outline: 3px solid #fff; outline-offset: 2px; }

/* Slightly stronger ring for timer buttons for accessibility */
.qtimer__btn:focus-visible { outline: 3px solid #93c5fd; outline-offset: 2px; }

/* Optional: reduce huge stage on very short screens */
@media (max-height: 640px){
  .qstage { min-height: calc(100vh - 140px); }
}

/* iOS safe areas */
@supports (padding: max(0px)) {
  .qbar { padding-block: max(10px, env(safe-area-inset-top)); }
  .qactions { bottom: max(16px, env(safe-area-inset-bottom)); }
}
